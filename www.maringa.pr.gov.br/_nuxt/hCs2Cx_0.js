import{f as V,h as m,c as L,o as R,ae as Z,_ as z,O as Y,af as J,ag as K,a2 as X,a1 as v,a0 as W,W as P,ah as F,l as I,ai as S,aj as ee,Y as te,$ as re,T as oe,ak as ne,U as H,al as se,m as q,q as _,a as B,x as k,j as C,y as ae,am as ie,an as ce,b as le}from"./CWRP0EBR.js";import{a as ue}from"./dFA5P_jr.js";const pe=["styles"],de=V({__name:"ScriptLoadingIndicator",props:{color:{default:"currentColor"},size:{default:30}},setup(e){Z(r=>({b2d4ee52:r.color}));const t=e,o=m(()=>({width:`${t.size}px`,height:`${t.size}px`}));return(r,i)=>(R(),L("div",{class:"loader",styles:o.value,"aria-label":"Loading...",role:"status"},null,8,pe))}}),ze=z(de,[["__scopeId","data-v-e39c7db3"]]);function A(e){return K()?(X(e),!0):!1}const fe=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ge=e=>e!=null,ye=Object.prototype.toString,me=e=>ye.call(e)==="[object Object]",E=()=>{};function he(e){return W()}function T(e){return Array.isArray(e)?e:[e]}function ve(e,t=!0,o){he()?Y(e,o):t?e():J(e)}function be(e,t,o){return v(e,t,{...o,immediate:!0})}const D=fe?window:void 0;function x(e){var t;const o=P(e);return(t=o==null?void 0:o.$el)!=null?t:o}function we(...e){const t=[],o=()=>{t.forEach(n=>n()),t.length=0},r=(n,a,s,l)=>(n.addEventListener(a,s,l),()=>n.removeEventListener(a,s,l)),i=m(()=>{const n=T(P(e[0])).filter(a=>a!=null);return n.every(a=>typeof a!="string")?n:void 0}),u=be(()=>{var n,a;return[(a=(n=i.value)==null?void 0:n.map(s=>x(s)))!=null?a:[D].filter(s=>s!=null),T(P(i.value?e[1]:e[0])),T(I(i.value?e[2]:e[1])),P(i.value?e[3]:e[2])]},([n,a,s,l])=>{if(o(),!(n!=null&&n.length)||!(a!=null&&a.length)||!(s!=null&&s.length))return;const p=me(l)?{...l}:l;t.push(...n.flatMap(f=>a.flatMap(y=>s.map(g=>r(f,y,g,p)))))},{flush:"post"}),c=()=>{u(),o()};return A(o),c}function _e(){const e=F(!1),t=W();return t&&Y(()=>{e.value=!0},t),e}function ke(e){const t=_e();return m(()=>(t.value,!!e()))}function Pe(e,t,o={}){const{root:r,rootMargin:i="0px",threshold:u=0,window:c=D,immediate:n=!0}=o,a=ke(()=>c&&"IntersectionObserver"in c),s=m(()=>{const g=P(e);return T(g).map(x).filter(ge)});let l=E;const p=F(n),f=a.value?v(()=>[s.value,x(r),p.value],([g,O])=>{if(l(),!p.value||!g.length)return;const $=new IntersectionObserver(t,{root:x(O),rootMargin:i,threshold:u});g.forEach(b=>b&&$.observe(b)),l=()=>{$.disconnect(),l=E}},{immediate:n,flush:"post"}):E,y=()=>{l(),f(),p.value=!1};return A(y),{isSupported:a,isActive:p,pause(){l(),p.value=!1},resume(){p.value=!0},stop:y}}function Se(e){let t;return new Promise(o=>{t=Pe(e,r=>{for(const i of r)i.isIntersecting&&o(!0)},{rootMargin:"30px 0px 0px 0px",threshold:0}),A(()=>o(!1))}).finally(()=>{t.stop()})}function $e(e){const{el:t,trigger:o}=e,r=(Array.isArray(e.trigger)?e.trigger:[e.trigger]).filter(Boolean);if(!o||r.includes("immediate")||r.includes("onNuxtReady"))return"onNuxtReady";if(r.some(c=>["visibility","visible"].includes(c)))return t?Se(t):new Promise(()=>{});const i={},u=new Promise(c=>{const n=typeof t<"u"?t:document.body,a=we(n,r,()=>{a(),c(!0)},{once:!0,passive:!0});ve(()=>{v(n,s=>{s&&r.forEach(l=>{s.dataset[`script_${l}`]&&(a(),c(!0))})},{immediate:!0})}),A(()=>c(!1))});return Object.assign(u,{ssrAttrs:i})}function Ie(){return H().public["nuxt-scripts"]}const Te=["onNuxtReady","client"],xe=["preconnect","dns-prefetch"];function Ae(e,t,o){const{src:r}=e,i=se(r),u=t&&xe.includes(t),c=u?`${i.protocol}${i.host}`:r,n=!!i.host;if(!t||u&&!n)return;const a={href:c,rel:t,...Le(e,["crossorigin","referrerpolicy","fetchpriority","integrity"])},s={fetchpriority:"low"};return t==="preload"&&(s.as="script"),n&&(s.crossorigin="anonymous",s.referrerpolicy="no-referrer"),q({link:[S(a,s)]},{head:o,tagPriority:"high"})}function Oe(e,t){var a,s,l;e=typeof e=="string"?{src:e}:e,t=S(t,(a=Ie())==null?void 0:a.defaultScriptOptions);const o=String(ee(e)),r=te(),i=t.head||re();r.$scripts=r.$scripts||oe({});const u=!!((s=r.$scripts)!=null&&s[o]);!t.warmupStrategy&&Te.includes(String(t.trigger))&&(t.warmupStrategy="preload"),t.trigger==="onNuxtReady"&&(t.trigger=ne),u||(l=performance==null?void 0:performance.mark)==null||l.call(performance,"mark_feature_usage",{detail:{feature:t.performanceMarkFeature??`nuxt-scripts:${o}`}});const c=ue(e,t);c.warmup=p=>{c._warmupEl||(c._warmupEl=Ae(e,p,i))},t.warmupStrategy&&c.warmup(t.warmupStrategy);const n=c.remove;return c.remove=()=>{var p;return(p=c._warmupEl)==null||p.dispose(),r.$scripts[o]=void 0,n()},r.$scripts[o]=c,c}function Ce(e){return(H().public.scripts||{})[e]}function Ee(e,t,o){const r=Ce(e),i=Object.assign(o||{},typeof r=="object"?r:{}),u=t(i),c=S(i.scriptInput,u.scriptInput,{key:e}),n=Object.assign((i==null?void 0:i.scriptOptions)||{},u.scriptOptions||{}),a=n.beforeInit;return n.beforeInit=()=>{var s;a==null||a(),(s=u.clientInit)==null||s.call(u)},Oe(c,n)}function Le(e,t){const o={};for(const r of t)r in e&&(o[r]=e[r]);return o}function Re(e){let t=Promise.resolve();const o=Ee("youtubePlayer",()=>({scriptInput:{src:"https://www.youtube.com/iframe_api",crossorigin:!1},scriptOptions:{use(){return{YT:window.YT||t.then(()=>window.YT)}}},clientInit:()=>{t=new Promise(r=>{window.onYouTubeIframeAPIReady=r})}}),e);{const r=v(o.status,i=>{i==="loading"&&(q({link:[{rel:"preconnect",href:"https://www.youtube-nocookie.com"},{rel:"preconnect",href:"https://www.google.com"},{rel:"preconnect",href:"https://googleads.g.doubleclick.net"},{rel:"preconnect",href:"https://static.doubleclick.net"}]}),r())})}return o}const Ye={},je={class:"sr-only","aria-label":"Loading...",role:"status"};function Ne(e,t){return R(),L("div",je)}const Me=z(Ye,[["render",Ne],["__scopeId","data-v-e3249305"]]),We=V({__name:"ScriptYouTubePlayer",props:{placeholderAttrs:{},rootAttrs:{},aboveTheFold:{type:Boolean},trigger:{type:[String,Array,Boolean],default:"mousedown"},videoId:{},playerVars:{default:{autoplay:0,playsinline:1}},width:{default:640},height:{default:360},cookies:{type:Boolean,default:!1},playerOptions:{},thumbnailSize:{default:"hq720"},webp:{type:Boolean,default:!0}},emits:["ready","state-change","playback-quality-change","playback-rate-change","error"],setup(e,{expose:t,emit:o}){const r=e,i=o,u=["onReady","onStateChange","onPlaybackQualityChange","onPlaybackRateChange","onError","onApiChange"],c=_(),n=_(),a=_(!1),s=$e({trigger:r.trigger,el:c}),l=Re({scriptOptions:{trigger:s}}),{onLoaded:p,status:f}=l,y=_();let g=!1;r.trigger==="mousedown"&&s instanceof Promise&&s.then(d=>{d&&(g=!0)}),Y(()=>{p(async d=>{const w=d.YT instanceof Promise?await d.YT:d.YT;await new Promise(h=>{typeof YT.Player>"u"?w.ready(h):h()}),y.value=new YT.Player(n.value,{host:r.cookies?"https://www.youtube.com":"https://www.youtube-nocookie.com",...r,...r.playerOptions,events:Object.fromEntries(u.map(h=>[h,U=>{var N;const Q=h.replace(/([A-Z])/g,"-$1").replace("on-","").toLowerCase();i(Q,U),h==="onReady"&&(a.value=!0,g&&((N=y.value)==null||N.playVideo(),g=!1),v(()=>r.videoId,()=>{var M;(M=y.value)==null||M.loadVideoById(r.videoId)}))}]))})}),v(f,d=>{d==="error"&&i("error")})}),t({player:y});const O=m(()=>S(r.rootAttrs,{"aria-busy":f.value==="loading","aria-label":f.value==="awaitingLoad"?"YouTube Player - Placeholder":f.value==="loading"?"YouTube Player - Loading":"YouTube Player - Loaded","aria-live":"polite",role:"application",style:{cursor:"pointer",position:"relative",backgroundColor:"black",width:"100%",aspectRatio:`${r.width}/${r.height}`},...s instanceof Promise?s.ssrAttrs||{}:{}})),$=m(()=>`https://i.ytimg.com/vi/${r.videoId}/hqdefault.jpg`),b=m(()=>`https://i.ytimg.com/${r.webp?"vi_webp":"vi"}/${r.videoId}/${r.thumbnailSize}.${r.webp?"webp":"jpg"}`),j=_(!1),G=m(()=>S(r.placeholderAttrs,{src:j.value?$.value:b.value,alt:"",loading:r.aboveTheFold?"eager":"lazy",style:{width:"100%",objectFit:"contain",height:"100%"},onLoad(d){const w=d.target;w.naturalWidth===120&&w.naturalHeight===90&&(j.value=!0)}}));return(d,w)=>(R(),L("div",ae({ref_key:"rootEl",ref:c},O.value),[B("div",{ref_key:"youtubeEl",ref:n,style:{width:"100%",height:"100%",position:"absolute",top:"0",left:"0"}},null,512),a.value?C("",!0):k(d.$slots,"placeholder",{key:0,placeholder:b.value},()=>[B("img",ie(ce(G.value)),null,16)]),I(f)==="loading"?k(d.$slots,"loading",{key:1},()=>[le(Me)]):C("",!0),I(f)==="awaitingLoad"?k(d.$slots,"awaitingLoad",{key:2}):I(f)==="error"?k(d.$slots,"error",{key:3}):C("",!0),k(d.$slots,"default")],16))}});export{We as _,ze as a};
