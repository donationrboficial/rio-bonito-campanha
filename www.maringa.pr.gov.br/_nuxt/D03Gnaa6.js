import{f as G,u as J,h as f,bg as K,c as u,b as P,a as n,i as r,j as x,l as e,n as p,w as m,x as Q,bh as X,bi as Y,o,ac as g,d as Z,y as v,k,R as tt}from"./CWRP0EBR.js";import{_ as et,u as ot}from"./D_mXN9px.js";import{_ as st}from"./CgvJwWz-.js";import{s as at}from"./CTKBtnVB.js";import{s as nt}from"./B6gRJgNQ.js";import{u as rt}from"./C8hEaqdM.js";import{u as lt}from"./DIRxuTky.js";import{a as ct}from"./CcXUekzg.js";import{b as z}from"./CJjUuDnR.js";import{m as H}from"./ASVg1Vul.js";import"./DH1OepFG.js";const it={class:"flex flex-col min-h-screen dark:bg-zinc-900"},ut={style:{flex:"1 1 0"}},pt={key:0},mt=["href","onClick"],_t=["title"],dt=["title"],ft={key:0,class:"pi pi-angle-down"},ht=["href","onClick"],bt=["title"],xt=["title"],gt={key:0,class:"pi pi-angle-down"},vt={class:"grow"},Lt=G({__name:"portal",setup(kt){const l=J(),q=ot(),{home:y}=rt(),{width:B}=lt(),w=f(()=>l.params.id),N=f(()=>l.params.url_portal),R=Object.keys(l.query).map(s=>`${s}=${l.query[s]}`).join("&");async function O(s){return q(`/api/portal/${s}${R?`?${R}`:""}`)}const{data:a,error:$,status:j}=ct("portal",()=>O(w.value),{immediate:!1,watch:[w]});if($.value)throw K({statusCode:$.value.statusCode,statusMessage:$.value.statusMessage});const D=f(()=>{if(!a.value||!a.value.menu)return[];const s=a.value.menu.filter(({posicao:_})=>_===z.SUPERIOR).sort((_,i)=>_.ordem-i.ordem),c=H(y.value,s);return[{label:"InÃ­cio",route:`${y.value}`},...c]}),C=f(()=>{if(!a.value||!a.value.menu)return[];const s=a.value.menu.filter(({posicao:c})=>c===z.LATERAL).sort((c,h)=>c.ordem-h.ordem);return H(y.value,s)}),M=f(()=>l.meta.layout==="portal"&&l.name=="portal-home");function I({context:{active:s}}){return{class:["font-bold","text-primary-500","hover:text-white","hover:bg-primary-500",{"bg-primary-500 text-white":s}]}}return(s,c)=>{var L,S;const h=X,_=et,i=Z,V=nt,T=at,U=Y,W=st,b=tt;return o(),u("div",it,[P(h,{"is-portal":!0,header:(L=e(a))==null?void 0:L.topo,link:`/portal/${e(w)}/${e(N)}`},null,8,["header","link"]),P(_,{items:e(D),isPortal:!0},null,8,["items"]),n("div",ut,[n("div",{class:p({"container mx-auto":!e(M)})},[n("div",{class:p({"flex flex-col lg:flex-row gap-4":!e(M)})},[e(C).length&&!e(M)?(o(),u("div",pt,[e(B)<1024?(o(),r(V,{key:0,breakpoint:"1024px",model:e(C),pt:{itemContent:I}},{item:m(({item:t,props:d,hasSubmenu:F})=>[t.route?(o(),r(i,{key:0,custom:"",to:t.route},{default:m(({href:A,navigate:E})=>[g((o(),u("a",v({href:A},d.action,{onClick:E}),[n("span",{class:p(["truncate","max-w-[200px]"]),title:typeof t.label=="string"?t.label:void 0},k(t.label),9,_t)],16,mt)),[[b]])]),_:2},1032,["to"])):g((o(),r(i,v({key:1,external:"",to:t.url,target:"_blank"},d.action),{default:m(()=>[n("span",{class:p(["truncate","max-w-[200px]"]),title:typeof t.label=="string"?t.label:void 0},k(t.label),9,dt),F?(o(),u("span",ft)):x("",!0)]),_:2},1040,["to"])),[[b]])]),_:1},8,["model","pt"])):(o(),r(T,{key:1,class:"",breakpoint:"3000px",model:e(C),pt:{root:{class:"border-none bg-[#F7F7F7] dark:bg-zinc-800 rounded-sm"},rootList:{class:"max-h-[38rem] overflow-y-auto"},submenu:{class:"bg-[#F7F7F7] dark:bg-zinc-800 rounded-sm"},itemContent:I}},{item:m(({item:t,props:d,hasSubmenu:F})=>[t.route?(o(),r(i,{key:0,custom:"",to:t.route},{default:m(({href:A,navigate:E})=>[g((o(),u("a",v({href:A},d.action,{onClick:E}),[n("span",{class:p(["truncate","max-w-[200px]"]),title:typeof t.label=="string"?t.label:void 0},k(t.label),9,bt)],16,ht)),[[b]])]),_:2},1032,["to"])):g((o(),r(i,v({key:1,external:"",to:t.url,target:"_blank"},d.action),{default:m(()=>[n("span",{class:p(["truncate","max-w-[200px]"]),title:typeof t.label=="string"?t.label:void 0},k(t.label),9,xt),F?(o(),u("span",gt)):x("",!0)]),_:2},1040,["to"])),[[b]])]),_:1},8,["model","pt"]))])):x("",!0),n("div",vt,[Q(s.$slots,"default")])],2)],2)]),P(U,{"is-portal":!0,footer:(S=e(a))==null?void 0:S.rodape},null,8,["footer"]),e(j)=="pending"?(o(),r(W,{key:0})):x("",!0)])}}});export{Lt as default};
